================================================================================
METHODOLOGY: GLACIER ICE THICKNESS CHANGE ANALYSIS
Sikkim, Bhutan, and Arunachal Pradesh (Eastern Himalaya)
================================================================================

PROJECT OBJECTIVE
-----------------
To estimate the surface elevation change (and by extension, ice thickness change)
of glaciers in the Eastern Himalayan region using satellite-derived elevation
data and glacier boundary information.


================================================================================
DATA SOURCES
================================================================================

1. TanDEM-X DEM Change Maps (DCM) - from German Aerospace Center (DLR)
   - These are pre-calculated elevation difference maps at 30m resolution
   - The pixel values directly represent "how much the surface has gone up or down"
   - Covers the period approximately 2011-2014 (baseline) to 2016-2022 (recent)
   - Received as 37 ZIP archives, each covering a 1°x1° tile

2. Randolph Glacier Inventory (RGI) Version 7.0 - Glacier Outlines
   - A global database of glacier boundaries as polygon shapefiles
   - Pre-filtered to include only glaciers in Sikkim, Bhutan, and Arunachal Pradesh
   - Contains 6,473 individual glacier polygons with attributes like area,
     location, and elevation information


================================================================================
STEP-BY-STEP PROCESS
================================================================================

STEP 1: DATA PREPARATION - Extracting the Elevation Change Maps
---------------------------------------------------------------
The DCM data from DLR arrived as compressed ZIP files. Each ZIP file contains
several folders, but the actual elevation change data is stored as a GeoTIFF
file inside a subfolder called "DCM".

Process:
- Opened each of the 37 ZIP archives
- Located the .tif file within the DCM subfolder
- Extracted only the TIF files to a new folder called "DCM_extracted"
- Result: 37 GeoTIFF files ready for analysis


STEP 2: DATA PREPARATION - Loading the Glacier Boundaries
---------------------------------------------------------
The RGI shapefile contains polygon outlines of every glacier in our study region.
Think of these as "cookie cutters" that we will use to extract only the glacier
areas from the elevation change maps.

Process:
- Loaded the shapefile "sikkim_bhutan_arunachal_clean.shp"
- Verified the data covers our study region (Longitude 88° to 97.5°E,
  Latitude 26.5° to 29.8°N)
- Confirmed 6,473 glaciers with a total area of 5,401 km²
- Created a map showing all glacier locations for visual verification


STEP 3: UNDERSTANDING THE DATA - Inspecting a Sample Tile
---------------------------------------------------------
Before processing all tiles, we examined one tile to understand the data format.

Key findings:
- The raster is in geographic coordinates (latitude/longitude)
- Pixel resolution is approximately 30 meters
- Values represent elevation change in meters (negative = surface lowering)
- NoData value is -32767 (areas with no valid measurement)


STEP 4: THE CORE ANALYSIS - Clipping Rasters to Glacier Boundaries
------------------------------------------------------------------
This is the main scientific step. For each elevation change tile:

Process:
a) Open the elevation change raster (TIF file)
b) Check if any glaciers fall within this tile's geographic extent
c) If yes, "clip" or "mask" the raster using the glacier polygons
   - This keeps only the pixels that fall inside glacier boundaries
   - Pixels outside glaciers are discarded
d) Apply quality filters to remove bad data:
   - Remove NoData values (-32767)
   - Remove unrealistic values greater than +100 meters
     (No glacier can gain 100m of ice in 8 years - this is noise)
   - Remove unrealistic values less than -150 meters
     (Extreme thinning beyond physical limits - likely radar errors)
e) Calculate statistics from the remaining valid pixels:
   - Mean (average) elevation change
   - Median elevation change
   - Standard deviation (spread of values)
   - Number of valid pixels

Result: 20 out of 37 tiles contained glaciers and contributed to the analysis


STEP 5: AGGREGATING RESULTS - Regional Statistics
-------------------------------------------------
After processing all tiles, we combined the results to get regional statistics.

Process:
a) Pooled all valid glacier pixels from all tiles (6.8 million pixels)
b) Calculated overall mean and median elevation change
c) Grouped glaciers by region based on their longitude:
   - Sikkim: Longitude < 89°E
   - Bhutan: Longitude 89°E to 92.5°E
   - Arunachal Pradesh: Longitude > 92.5°E
d) Calculated statistics separately for each region


STEP 6: PER-GLACIER ANALYSIS
----------------------------
Beyond regional averages, we also calculated elevation change for each
individual glacier. This allows us to identify which specific glaciers are
thinning the most or least.

Process:
- For each of the 6,473 glaciers, extracted all pixels falling within its boundary
- Calculated mean elevation change for that specific glacier
- Stored results including glacier ID, name, location, area, and change values
- Handled glaciers that span multiple tiles by combining their pixels


STEP 7: CALCULATING RATES AND VOLUMES
-------------------------------------
To make the results more meaningful, we converted total elevation change to
annual rates and volume estimates.

Process:
a) Divided total elevation change by time period (~8 years) to get annual rate
b) Calculated volume change:
   - Each pixel covers 30m x 30m = 900 m²
   - Volume change = elevation change × pixel area × number of pixels
c) Converted ice volume to water equivalent using ice density (900 kg/m³)


STEP 8: VISUALIZATION - Creating Maps and Charts
------------------------------------------------
To communicate the results effectively, we created several visualizations:

a) Histogram of Elevation Changes
   - Shows the distribution of all 6.8 million pixel values
   - Reveals that most values are negative (indicating thinning)
   - Shows the mean and median lines

b) Glacier Thinning Map
   - Each glacier polygon colored by its mean elevation change
   - Blue colors = slight thickening or stable
   - Red colors = thinning
   - Allows visual identification of spatial patterns

c) Regional Comparison Charts
   - Box plots showing the spread of values in each region
   - Bar charts comparing mean thinning rates between regions

d) Elevation Dependence Plot
   - Scatter plot of elevation change vs. glacier altitude
   - Helps understand if higher or lower glaciers are thinning more


STEP 9: EXPORTING RESULTS
-------------------------
All results were saved in multiple formats for further use:

a) CSV Files:
   - regional_summary.csv: Summary statistics by region
   - per_glacier_results.csv: Detailed results for each glacier

b) Shapefile:
   - glaciers_with_change.shp: Original glacier boundaries with added
     columns for elevation change, thinning rate, etc.
   - Can be opened in GIS software for further spatial analysis

c) PNG Images:
   - All maps and charts saved as high-resolution images


================================================================================
KEY RESULTS
================================================================================

REGIONAL SUMMARY (over ~8 year period):

Region              | Glaciers | Area (km²) | Mean Δh (m) | Rate (m/yr)
--------------------|----------|------------|-------------|------------
Sikkim              |      812 |      1,025 |       -0.37 |      -0.046
Bhutan              |    1,887 |      1,630 |       -1.45 |      -0.182
Arunachal Pradesh   |    3,774 |      2,746 |       -0.96 |      -0.120
--------------------|----------|------------|-------------|------------
TOTAL               |    6,473 |      5,401 |       -1.03 |      -0.129

PIXEL-LEVEL ANALYSIS (all glaciers combined):
- Mean elevation change: -2.42 meters
- Median elevation change: -3.37 meters
- Mean thinning rate: -0.30 m/year
- Median thinning rate: -0.42 m/year

VOLUME LOSS ESTIMATES:
- Total volume change: -14.87 km³
- Water equivalent: -13.38 km³
- Annual volume loss: -1.86 km³/year


================================================================================
INTERPRETATION
================================================================================

1. ALL REGIONS SHOW NET GLACIER THINNING
   Every region shows negative elevation change, meaning glaciers are losing
   mass overall. This is consistent with global trends of glacier retreat
   due to climate change.

2. BHUTAN HAS THE HIGHEST THINNING RATE
   At -0.18 m/year, Bhutan's glaciers are thinning nearly 4 times faster than
   Sikkim's glaciers. This could be due to differences in climate, glacier
   characteristics, or elevation distribution.

3. SIKKIM HAS THE LOWEST THINNING RATE
   Sikkim glaciers show the least thinning (-0.05 m/year). This might indicate
   these glaciers are at higher elevations or receive more precipitation.

4. SIGNIFICANT WATER LOSS
   The estimated 13.4 km³ of water equivalent loss over 8 years represents
   a significant freshwater resource that is no longer stored as ice. This
   has implications for downstream water availability.


================================================================================
LIMITATIONS AND CAVEATS
================================================================================

1. TIME PERIOD UNCERTAINTY
   The exact time period is approximate (~8 years) based on TanDEM-X naming
   conventions. Precise dates would require examining individual acquisition
   metadata.

2. RADAR PENETRATION
   X-band radar can penetrate into dry snow and firn, potentially causing
   the surface to appear lower than it actually is in accumulation zones.
   This effect was not corrected in this analysis.

3. DATA GAPS
   Some glaciers may have incomplete coverage due to radar shadows, layover,
   or void pixels in the original DEM data.

4. DENSITY ASSUMPTION
   Converting volume change to mass/water equivalent requires assuming an
   ice density. We used 900 kg/m³, but actual density varies across glaciers.

5. ELEVATION CHANGE ≠ MASS CHANGE
   Surface elevation change includes both ice loss and firn compaction.
   True mass balance requires additional corrections.


================================================================================
FILES GENERATED
================================================================================

Input Data:
- DCM/*.zip (37 files) → Extracted to DCM_extracted/*.tif (37 files)
- RGI_Data/sikkim_bhutan_arunachal_clean.shp

Output Files (in results/ folder):
- regional_summary.csv        : Summary statistics by region
- per_glacier_results.csv     : Individual glacier results (6,473 rows)
- glaciers_with_change.shp    : Shapefile with change attributes
- glacier_outlines_map.png    : Study region overview
- elevation_change_histogram.png : Distribution of pixel values
- glacier_thinning_map.png    : Map of per-glacier thinning
- regional_comparison.png     : Box/bar plots by region
- elevation_dependence.png    : Δh vs altitude scatter plot

Analysis Notebook:
- analysis.ipynb              : Original notebook with code
- analysis_executed.ipynb     : Executed notebook with outputs


================================================================================
                              END OF METHODOLOGY
================================================================================
